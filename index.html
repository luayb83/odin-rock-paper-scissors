<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rock Paper Scissors</title>
  </head>
  <body>
    <script>
      function getComputerChoice(num) {
        switch (num) {
          case 0:
            return "ROCK";
            break;
          case 1:
            return "PAPER";
            break;
          default:
            return "SCISSORS";
            break;
        }
      }

      function playRound(getPlayerChoice, getComputerChoice) {
        if (getPlayerChoice === "ROCK") {
          switch (getComputerChoice) {
            case "ROCK":
              return "It's a Tie! Rock is Rock";
              break;
            case "PAPER":
              return "You Lose! Paper beats Rock";
              break;
            default:
              return "You Won! Rock beats Scissors";
              break;
          }
        } else if (getPlayerChoice === "PAPER") {
          switch (getComputerChoice) {
            case "PAPER":
              return "It's a Tie! Paper is Paper";
              break;
            case "SCISSORS":
              return "You Lose! Scissors beats Paper";
              break;
            default:
              return "You Won! Paper beats Rock";
              break;
          }
        } else if (getPlayerChoice === "SCISSORS") {
          switch (getComputerChoice) {
            case "SCISSORS":
              return "It's a Tie! Scissors are Scissors";
              break;
            case "ROCK":
              return "You Lose! Rock beats Scissors";
              break;
            default:
              return "You Won! Scissors beats Paper";
              break;
          }
        }
      }

      let playerScore = 0;
      let computerScore = 0;

      function playGame() {
        for (let i = 0; i < 5; i) {
          let getPlayerChoice = prompt(
            "What do you choose Rock - Paper - Scissors?"
          ).toUpperCase();

          let number = Math.floor(Math.random() * 3);

          playRound(getPlayerChoice, getComputerChoice(number));

          if (
            playRound(getPlayerChoice, getComputerChoice(number)).startsWith("You Won")
          ) {
            playerScore++;
            i++;
          } else if (
            playRound(getPlayerChoice, getComputerChoice(number)).startsWith("You Lose")
          ) {
            computerScore++;
            i++;
          } else {
            i++;
          }

          console.log(`Round ${i}`);
          console.log(playRound(getPlayerChoice, getComputerChoice(number)));
          if (i == 5) {
            console.log(
              `Game Over! Final score is ${playerScore} - ${computerScore}`
            );
            break;
          } else {
            console.log(`Current score is ${playerScore} - ${computerScore}`);
          }
        }
      }

      // console.log(playRound(getPlayerChoice, getComputerChoice()))
      console.log(playGame());
    </script>
  </body>
</html>
